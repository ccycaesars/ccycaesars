(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ea3f005e"],{"2f50":function(t,a,s){"use strict";var e=s("a397"),i=s.n(e);i.a},"687b":function(t,a,s){},"9eb5":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"Team"},[s("van-nav-bar",{staticClass:"header",attrs:{title:"团队福利","left-arrow":"",fixed:!0,border:!1},on:{"click-left":t.onClickLeft}}),s("div",{staticClass:"head"},[s("div",{staticClass:"header_star"},[t._v("团队福利金额")]),s("div",{staticClass:"header_money"},[t._v("$"+t._s(t.wallet.TeamAward))]),s("div",{staticClass:"header_star_now"},[s("span",[t._v("当前星级")]),s("van-tag",{staticClass:"star",attrs:{plain:"",type:"danger"}},[t._v(t._s(t.wallet.StarLevel)+"星")])],1)]),s("div",{staticClass:"main_content"},[s("div",{staticClass:"main_conair"},[s("div",{staticClass:"content_left"},[s("div",{staticClass:"content_money"},[t._v(t._s(t.NextStar))]),s("div",{staticClass:"content_p"},[t._v("距离下一星级")])])]),s("div",{staticClass:"main_conair"},[s("div",{staticClass:"content_right"},[s("div",{staticClass:"content_money"},[t._v(t._s(t.wallet.DirectNum))]),s("div",{staticClass:"content_p"},[t._v("直推人数")])])])]),s("div",{staticClass:"tips"},[s("div",{staticClass:"tips_title"},[t._v("福利明细")]),s("div",{staticClass:"table",style:t.css},[s("castle-loadmore",{ref:"vueLoad",attrs:{"top-method":t.handleTop,"top-status-change":t.handleStatusChange,topDistance:44,"bottom-method":t.handleBottom,"bottom-status-change":t.handleBottomStatusChange,"disable-top":!1,"disable-bottom":!1,nodata:"暂无更多福利明细"}},[s("table",[s("tr",[s("th",[t._v("星级")]),s("th",[t._v("福利金额")]),s("th",[t._v("获取时间")])]),t._l(t.List,function(a,e){return s("tr",{key:e},[s("td",[t._v(t._s(a.TeamLevel)+"星")]),s("td",[t._v(t._s(a.Money))]),s("td",[t._v(t._s(new Date(a.CTime).toLocaleDateString()))])])})],2)])],1)])],1)},i=[],n=s("9ab4"),o=s("60a3"),l=s("86b7"),c=s("d629");let h=class extends o["c"]{constructor(){super(...arguments),this.Height=0,this.wallet={},this.NextStar="",this.Page=1,this.Total=0,this.Refresh=!0,this.List={}}get css(){return{height:this.Height+"px"}}onClickLeft(){this.$router.back()}mounted(){this.Height=window.screen.height-46-129-70-30,this.init(),this.handleTop()}async init(){this.wallet=(await c["a"].get())[0],this.NextStar=await c["a"].getNextStar()}async Award(){let t=await l["a"].query({P:this.Page,N:10,W:{},Sort:"CTime DESC"}),a=t.L;return this.Total=t.T,t.N*t.P>=t.T&&(this.Refresh=!1),a}async handleTop(){this.Page=1;let t=await this.Award();this.List=t;let a=this.$refs.vueLoad;a.onTopLoaded(),this.handleBottom()}handleStatusChange(t){}handleBottomStatusChange(t){}async handleBottom(){let t=this.$refs.vueLoad;if(this.Refresh){this.Page++;let a=await this.Award();this.List=this.List.concat(a),t.onBottomLoaded()}else t.onBottomLoaded(this.Refresh)}};h=n["a"]([Object(o["a"])({components:{Lang:t=>s.e("chunk-40aa5201").then(function(){var a=[s("fab4")];t.apply(null,a)}.bind(this)).catch(s.oe)}})],h);var r=h,d=r,v=(s("c119"),s("2f50"),s("2877")),_=Object(v["a"])(d,e,i,!1,null,"4ea9c070",null);_.options.__file="Team.vue";a["default"]=_.exports},a397:function(t,a,s){},c119:function(t,a,s){"use strict";var e=s("687b"),i=s.n(e);i.a}}]);
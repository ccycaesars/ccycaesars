(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f640766e"],{1881:function(t,s,i){},"341c":function(t,s,i){"use strict";i.r(s);var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"Transfer"},[i("van-nav-bar",{staticStyle:{background:"#3377FF"},attrs:{title:"转账","left-arrow":"",fixed:!0,border:!1},on:{"click-left":t.onClickLeft}}),i("div",{staticClass:"heade"},[i("div",{staticClass:"UseChip"},[t._v("当前可互转筹码")]),i("div",{staticClass:"UserMoney"},[t._v("$"+t._s(t.walletInfo.Chip))])]),i("div",{staticClass:"content"},[i("div",{staticClass:"bank_content"},[t._m(0),i("div",{staticClass:"input_user"},[i("van-cell-group",[i("van-field",{attrs:{placeholder:"请输入会员账号",clearable:""},model:{value:t.Account,callback:function(s){t.Account=s},expression:"Account"}})],1)],1),i("div",{staticStyle:{"margin-top":"15px"}},[i("span",{staticClass:"money"},[t._v("筹码")]),i("span",{staticClass:"money_span"},[t._v("(最低"+t._s(t.Limits)+"起转）")])]),i("div",{staticClass:"input_user"},[i("van-cell-group",[i("van-field",{attrs:{placeholder:"请输入转让的筹码",clearable:"",onfocus:"this.blur();"},nativeOn:{touchstart:function(s){s.stopPropagation(),t.number_show=!0}},model:{value:t.chip,callback:function(s){t.chip=s},expression:"chip"}})],1)],1),i("van-button",{staticClass:"tx_button",class:{tx_button_no:1!=t.walletInfo.Validate},attrs:{type:"danger",size:"large"},on:{click:t.Transfer}},[t._v("立即转让")])],1)]),i("van-number-keyboard",{attrs:{show:t.number_show,theme:"custom","extra-key":".","close-button-text":"完成"},on:{blur:function(s){t.number_show=!1},input:t.onInput,delete:t.onDelete}}),i("van-actionsheet",{attrs:{title:"输入密码"},on:{cancel:t.cancel},model:{value:t.show,callback:function(s){t.show=s},expression:"show"}},[i("div",{staticClass:"InputPayPWD_content"},[i("div",{staticClass:"input_user"},[i("van-cell-group",[i("van-field",{attrs:{placeholder:"请输入支付密码",type:"password",clearable:""},model:{value:t.PayPWD,callback:function(s){t.PayPWD=s},expression:"PayPWD"}})],1)],1),i("van-button",{staticClass:"login_button",attrs:{type:"danger",size:"large"},on:{click:t.confrim}},[t._v("确定")])],1)])],1)},e=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("span",{staticClass:"money"},[t._v("会员账号")])])}],n=i("9ab4"),c=i("60a3"),o=i("9b98"),l=i("d629"),h=i("5e2a"),r=i("afbc");let u=class extends c["c"]{constructor(){super(...arguments),this.images=["https://img.yzcdn.cn/public_files/2017/09/05/4e3ea0898b1c2c416eec8c11c5360833.jpg","https://img.yzcdn.cn/public_files/2017/09/05/4e3ea0898b1c2c416eec8c11c5360833.jpg"],this.Account="",this.chip="",this.Limits=0,this.number_show=!1,this.show=!1,this.PayPWD="",this.walletInfo={}}onClickLeft(){this.$router.back()}mounted(){this.init()}async init(){this.Limits=(await o["a"].get({K:"TRADE_MIN"})).Limits,this.walletInfo=(await l["a"].get())[0]}onMoneyInput(){this.number_show=!0}async onInput(t){"."==t?-1==this.chip.indexOf(".")&&(this.chip+=t):this.chip+=t,"."==this.chip.substr(0,1)&&(this.chip=0+this.chip)}onDelete(){let t=this.chip.length;this.chip=this.chip.slice(0,t-1)}cancel(){this.PayPWD=""}async Transfer(){if(1!=this.walletInfo.Validate)return void this.$dialog.confirm({message:"账户还未进行身份安全校验！去校验"}).then(()=>{this.$router.push(r["a"].Validate)}).catch(()=>{});if(""==this.Account.trim()||""==this.chip.trim())return void this.$toast("请输入账户或者筹码");if(this.Limits>this.chip)return void this.$toast("输入筹码小于最低限制");if(this.chip>this.walletInfo.Chip)return this.$toast("已超出账户筹码,自动调到最大筹码"),void(this.chip=this.walletInfo.Chip);let t=await h["a"].isPayPWD();if(t){let t=this.walletInfo.Status;if(1!=t)return void this.$toast("还未激活用户");this.show=!0}else this.$dialog.confirm({message:"您还未设置支付密码！"}).then(()=>{this.$router.push(r["a"].PayPWD)}).catch(()=>{})}async confrim(){""!=this.PayPWD.trim()?(await l["a"].transfer({Money:this.chip,PayPWD:this.PayPWD,Phone:this.Account}),this.$toast("转出成功"),this.show=!1,this.chip="",this.PayPWD=""):this.$toast("请输入支付密码")}};u=n["a"]([Object(c["a"])({components:{Lang:t=>i.e("chunk-40aa5201").then(function(){var s=[i("fab4")];t.apply(null,s)}.bind(this)).catch(i.oe)}})],u);var p=u,f=p,d=(i("f708"),i("f2ca"),i("2877")),v=Object(d["a"])(f,a,e,!1,null,"e58901a2",null);v.options.__file="Transfer.vue";s["default"]=v.exports},"551b":function(t,s,i){},f2ca:function(t,s,i){"use strict";var a=i("1881"),e=i.n(a);e.a},f708:function(t,s,i){"use strict";var a=i("551b"),e=i.n(a);e.a}}]);